(this["webpackJsonpart-display"]=this["webpackJsonpart-display"]||[]).push([[0],{36:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a(26),i=a.n(r),n=a(11),s=(a(36),a(21)),l=a.n(s),o=a(27),j=a(9);a(41),a(42);j.a.initializeApp({apiKey:"AIzaSyA1cyQNPXcxBpvyZmnElvFludzHNf81AEE",authDomain:"art-gallery-b03bf.firebaseapp.com",projectId:"art-gallery-b03bf",storageBucket:"art-gallery-b03bf.appspot.com",messagingSenderId:"587050036528",appId:"1:587050036528:web:2b978c2e59afd4c8e7ecf5"});var u=j.a.storage(),d=j.a.firestore(),b=j.a.firestore.FieldValue.serverTimestamp(),f=function(e){var t=Object(c.useState)(0),a=Object(n.a)(t,2),r=a[0],i=a[1],s=Object(c.useState)(null),j=Object(n.a)(s,2),f=j[0],h=j[1],O=Object(c.useState)(null),p=Object(n.a)(O,2),m=p[0],g=p[1];return Object(c.useEffect)((function(){var t=u.ref(e.name),a=d.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){g(e)}),Object(o.a)(l.a.mark((function e(){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,r=b,a.add({url:c,createdAt:r,likes:0,dislikes:0}),h(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:f,error:m}},h=a(66),O=a(4),p=function(e){for(var t=e.file,a=e.setFile,r=0;r<t.length;r++)var i=f(t[r]),n=i.url,s=i.progress;return Object(c.useEffect)((function(){n&&a(null)}),[n,a]),Object(O.jsx)(h.a.div,{className:"progress-bar",initial:{width:0},animate:{width:s+"%"}})},m=function(){var e=Object(c.useState)(null),t=Object(n.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(null),s=Object(n.a)(i,2),l=s[0],o=s[1],j=Object(c.useState)(!1),u=Object(n.a)(j,2),d=u[0];u[1];return Object(O.jsxs)("form",{children:[Object(O.jsxs)("label",{htmlFor:"image",id:"label",children:[Object(O.jsx)("p",{children:"+"}),Object(O.jsx)("input",{name:"image",id:"input",type:"file",accept:"image/*",onChange:function(e){d||alert("SignIN to upload");var t=e.target.files;t?(r(t),o("")):(r(null),o("Please set an image file"))},multiple:!0})]}),Object(O.jsxs)("div",{className:"output",children:[l&&Object(O.jsx)("div",{className:"error",children:l}),a&&Object(O.jsx)(p,{file:a,setFile:r})]})]})},g=a(61),x=a(62);var v=function(e,t){var a=j.a.firestore().collection("images").where("url","==",e);return"likes"===t?a.get().then((function(e){e.forEach((function(e){e.ref.update({likes:j.a.firestore.FieldValue.increment(1)})}))})):a.get().then((function(e){e.forEach((function(e){e.ref.update({dislikes:j.a.firestore.FieldValue.increment(1)})}))})),1},y=a(28),k=function(e){var t=Object(c.useState)([]),a=Object(n.a)(t,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var t=j.a.firestore().collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(y.a)({},e.data()))})),i(t)}));return function(){return t()}}),[e]),{docs:r}},w=function(e){var t=e.setImage,a=k("images").docs;return Object(O.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(O.jsxs)(h.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:.7},children:[Object(O.jsx)(h.a.img,{src:e.url,alt:"image",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},onClick:function(){return t(e.url)}}),Object(O.jsxs)("div",{className:"bottom-content",children:[Object(O.jsx)(g.a,{onClick:function(){v(e.url,"likes")}}),Object(O.jsx)("small",{children:e.likes}),Object(O.jsx)(x.a,{onClick:function(){v(e.url,"dislikes")}}),Object(O.jsx)("small",{children:e.dislikes})]})]},e.url)}))})},N=a(15),S=function(e){var t,a=e.image,c=e.setImage;return Object(O.jsxs)(h.a.div,(t={className:"backdrop-content",initial:{opacity:0},animate:{opacity:1}},Object(N.a)(t,"className","backdrop"),Object(N.a)(t,"onClick",(function(e){e.target.classList.contains("backdrop")&&c(null)})),Object(N.a)(t,"children",[Object(O.jsx)(h.a.img,{src:a,alt:"",initial:{y:"-100vh"},animate:{y:0}}),Object(O.jsxs)(h.a.div,{children:[Object(O.jsx)(h.a.div,{className:"bottomo-content",children:"jhzjgdshjsgdh"}),Object(O.jsx)(h.a.form,{children:Object(O.jsx)(h.a.input,{type:"text"})})]})]),t))},A=a(63),I=a(64),E=a(65);function F(){var e=Object(c.useState)(null),t=Object(n.a)(e,2),a=t[0],r=t[1];new j.a.auth.GoogleAuthProvider;return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{id:"tagline",style:{color:"#F87171"},children:"Art Gallery"}),Object(O.jsxs)("p",{id:"line",children:["If you are an artist share your creations for the world to see and appreciate!!"," "]}),Object(O.jsx)(m,{}),Object(O.jsx)(w,{setImage:r}),a&&Object(O.jsx)(S,{image:a,setImage:r}),Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsxs)("a",{href:"https://twitter.com/AdhishreyaP",target:"_blank",children:[" ",Object(O.jsx)(A.a,{})]}),Object(O.jsxs)("a",{href:"https://github.com/Adhishreya",target:"_blank",children:[" ",Object(O.jsx)(I.a,{})]}),Object(O.jsxs)("a",{href:"https://www.linkedin.com/in/adhishreya-p-129376167/",target:"_blank",children:[" ",Object(O.jsx)(E.a,{})]})]})]})}var B=document.getElementById("root");i.a.render(Object(O.jsx)(c.StrictMode,{children:Object(O.jsx)(F,{})}),B)}},[[48,1,2]]]);
//# sourceMappingURL=main.b4690c18.chunk.js.map